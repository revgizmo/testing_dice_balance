<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Thoughts on u/VaraNiN’s dice</title>
  <meta name="description" content="This is a project to test dice for balance based on rolls and expected values">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Thoughts on u/VaraNiN’s dice" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a project to test dice for balance based on rolls and expected values" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Thoughts on u/VaraNiN’s dice" />
  
  <meta name="twitter:description" content="This is a project to test dice for balance based on rolls and expected values" />
  

<meta name="author" content="Conor Healy">


<meta name="date" content="2018-09-15">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  


<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>



</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="#thoughts-on-uvaranins-dice"><i class="fa fa-check"></i><b>1</b> Thoughts on u/VaraNiN’s dice</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="#a-small-project-to-test-dice-for-balance-based-on-rolls-and-expected-values"><i class="fa fa-check"></i><b>1.1</b> A small project to test dice for balance based on rolls and expected values</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="#importing-the-data"><i class="fa fa-check"></i><b>1.2</b> Importing the data</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="#file-format"><i class="fa fa-check"></i><b>1.2.1</b> File Format</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="#import"><i class="fa fa-check"></i><b>1.2.2</b> Import</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="#tidying-the-data"><i class="fa fa-check"></i><b>1.3</b> Tidying the data</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="#datawrangle"><i class="fa fa-check"></i><b>1.3.1</b> DataWrangle</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="#transforming-the-files-for-analysis"><i class="fa fa-check"></i><b>1.4</b> Transforming the files for analysis</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="#analyze-the-results-of-uvaranins-dice-rolls"><i class="fa fa-check"></i><b>1.5</b> Analyze the results of u/VaraNiN’s dice rolls</a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="#testing-the-dice-for-balance-based-on-rolls-and-expected-values"><i class="fa fa-check"></i><b>1.5.1</b> Testing the dice for balance based on rolls and expected values</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="#chi-square-analysis-based-on-rolls-and-expected-values"><i class="fa fa-check"></i><b>1.5.2</b> Chi-Square analysis based on rolls and expected values</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="#conclusions-the-dice-look-balanced"><i class="fa fa-check"></i><b>1.6</b> Conclusions: The dice look balanced</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="#future-thoughts"><i class="fa fa-check"></i><b>1.7</b> Future thoughts:</a></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="#continuing-exercise"><i class="fa fa-check"></i><b>1.8</b> Continuing exercise:</a></li>
<li class="chapter" data-level="1.9" data-path="index.html"><a href="#another-reddit-exercise"><i class="fa fa-check"></i><b>1.9</b> Another reddit exercise:</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Thoughts on u/VaraNiN’s dice</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Thoughts on u/VaraNiN’s dice</h1>
<h4 class="author"><em>Conor Healy</em></h4>
<h4 class="date"><em>2018-09-15</em></h4>
</div>
<div id="thoughts-on-uvaranins-dice" class="section level1">
<h1><span class="header-section-number">1</span> Thoughts on u/VaraNiN’s dice</h1>
<div id="a-small-project-to-test-dice-for-balance-based-on-rolls-and-expected-values" class="section level2">
<h2><span class="header-section-number">1.1</span> A small project to test dice for balance based on rolls and expected values</h2>
<p><a href="https://www.reddit.com/user/VaraNiN">u/VaraNiN</a>’s recent post on Reddit about receiving some new dice (<a href="https://www.reddit.com/r/DnD/comments/9g5gge/oc_after_9_weeks_of_waiting_my_steel_dice_are/?st=JM450M1H&amp;sh=090282a1">[OC] After 9 weeks of waiting my steel dice are finally here! (Test roll results inside)</a>, since removed due to the dice pic) got me thinking about ways to capture fairness of dice rolls in R. <a href="https://www.reddit.com/user/VaraNiN">u/VaraNiN</a> kindly provided a simple analysis of <a href="https://drive.google.com/file/d/1oFhszSd7A210-YbTaEfz89A1eM7QgK5U/view?usp=sharing">test roll results</a> with the associated detailed die rolls in his post, so here’s a quick summary.</p>
<div id="tldr-the-dice-look-balanced.-i-would-want-to-look-at-the-1s-and-20s-a-little-more-if-i-were-going-to-do-more-analysis." class="section level4">
<h4><span class="header-section-number">1.1.0.1</span> Tl;dr: The dice look balanced. I would want to look at the 1s and 20s a little more if I were going to do more analysis.</h4>

</div>
</div>
<div id="importing-the-data" class="section level2">
<h2><span class="header-section-number">1.2</span> Importing the data</h2>
<p>The data was posted in an Excel file on google drive (<a href="https://drive.google.com/file/d/1oFhszSd7A210-YbTaEfz89A1eM7QgK5U/view?usp=sharing">test roll results</a>). A quick test with the googlesheets package convinced me that I was better off just downloading the excel file. I saved it in a ./data/raw/ folder.</p>
<div id="file-format" class="section level3">
<h3><span class="header-section-number">1.2.1</span> File Format</h3>
<p>The Excel file consisted of 6 tabs, one for each die being tested. Data was organized in a very excel fashion, with data and calculations included on the same tabs, and the data listed in cells A5:… It took a little creativity to get the right cells, and there were just enough tabs to copy/paste rather than building a formula to do it this time.</p>
</div>
<div id="import" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Import</h3>
<p>I imported each sheet separately and saved just the data into 6 separate .csv files. I like to do this so that tidying begins on a standard and fixed set of data.</p>
<ul>
<li>d4: <strong>80</strong> rolls recorded</li>
<li>d6: <strong>120</strong> rolls recorded<br />
</li>
<li>d8: <strong>160</strong> rolls recorded</li>
<li>d10: <strong>200</strong> rolls recorded</li>
<li>d12: <strong>240</strong> rolls recorded</li>
<li>d20: <strong>600</strong> rolls recorded</li>
</ul>
<p>That’s a total of <strong>1400</strong> rolls recorded.</p>
<p>Warnings: There were <strong>0</strong> warnings during the import. They were:</p>

</div>
</div>
<div id="tidying-the-data" class="section level2">
<h2><span class="header-section-number">1.3</span> Tidying the data</h2>
<div id="datawrangle" class="section level3">
<h3><span class="header-section-number">1.3.1</span> DataWrangle</h3>
<p>Data tidying was handled during Import (dice roll detail values were selected from within a more comprehensive spreadsheet that included summaries and analysis). Traditional datawrangling was not necessary.</p>
<p>Responses were saved as .rds files.</p>
<p>There were <strong>0</strong> warnings during the data tidying. They were:</p>

</div>
</div>
<div id="transforming-the-files-for-analysis" class="section level2">
<h2><span class="header-section-number">1.4</span> Transforming the files for analysis</h2>
<p>To streamline the analysis, I consolidated the 6 groups of die rolls together into 1 tibble.</p>
<table>
<thead>
<tr class="header">
<th align="left">die</th>
<th align="right">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">D4</td>
<td align="right">80</td>
</tr>
<tr class="even">
<td align="left">D6</td>
<td align="right">120</td>
</tr>
<tr class="odd">
<td align="left">D8</td>
<td align="right">160</td>
</tr>
<tr class="even">
<td align="left">D10</td>
<td align="right">200</td>
</tr>
<tr class="odd">
<td align="left">D12</td>
<td align="right">240</td>
</tr>
<tr class="even">
<td align="left">D20</td>
<td align="right">600</td>
</tr>
</tbody>
</table>
<p><strong>1400</strong> die rolls were prepared for analysis.</p>
<p>There were <strong>0</strong> warnings during the transforms. They were:</p>

</div>
<div id="analyze-the-results-of-uvaranins-dice-rolls" class="section level2">
<h2><span class="header-section-number">1.5</span> Analyze the results of u/VaraNiN’s dice rolls</h2>
<div id="testing-the-dice-for-balance-based-on-rolls-and-expected-values" class="section level3">
<h3><span class="header-section-number">1.5.1</span> Testing the dice for balance based on rolls and expected values</h3>
<p><strong>1400</strong> responses were loaded for analysis.</p>
<p><img src="testing_dice_balance_files/figure-html/combined_Histograms-1.png" width="672" /></p>
</div>
<div id="chi-square-analysis-based-on-rolls-and-expected-values" class="section level3">
<h3><span class="header-section-number">1.5.2</span> Chi-Square analysis based on rolls and expected values</h3>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:100%; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
die
</th>
<th style="text-align:right;">
sides
</th>
<th style="text-align:right;">
roll_num
</th>
<th style="text-align:right;">
expected_rolls_per_side
</th>
<th style="text-align:right;">
roll_mean
</th>
<th style="text-align:right;">
expected_mean
</th>
<th style="text-align:right;">
chisq_p.value
</th>
<th style="text-align:left;">
chisq_result_0.05
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
D4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
0.96
</td>
<td style="text-align:left;">
Ok
</td>
</tr>
<tr>
<td style="text-align:left;">
D6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
0.35
</td>
<td style="text-align:left;">
Ok
</td>
</tr>
<tr>
<td style="text-align:left;">
D8
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
160
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
4.7
</td>
<td style="text-align:right;">
4.5
</td>
<td style="text-align:right;">
0.41
</td>
<td style="text-align:left;">
Ok
</td>
</tr>
<tr>
<td style="text-align:left;">
D10
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
200
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
5.2
</td>
<td style="text-align:right;">
5.5
</td>
<td style="text-align:right;">
0.21
</td>
<td style="text-align:left;">
Ok
</td>
</tr>
<tr>
<td style="text-align:left;">
D12
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
240
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
6.6
</td>
<td style="text-align:right;">
6.5
</td>
<td style="text-align:right;">
0.23
</td>
<td style="text-align:left;">
Ok
</td>
</tr>
<tr>
<td style="text-align:left;">
D20
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
600
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
10.5
</td>
<td style="text-align:right;">
10.5
</td>
<td style="text-align:right;">
0.98
</td>
<td style="text-align:left;">
Ok
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="conclusions-the-dice-look-balanced" class="section level2">
<h2><span class="header-section-number">1.6</span> Conclusions: The dice look balanced</h2>
<p>With all p-values &gt; 0.05, the first pass analysis results in a colloquial conclusion* that the dice are balanced.<br />
* lots of exceptions, details, and better explanations.</p>
</div>
<div id="future-thoughts" class="section level2">
<h2><span class="header-section-number">1.7</span> Future thoughts:</h2>
<p>I’m less concerned with misunderstanding of the implications of the p-values in this analysis, than I am with the conservative nature of the Chi-Square test for this kind of analysis. The variable representing the dice sides can move along the variable continuum from Nominal to Ratio based on use in various games. In the case of Dungeons and Dragons, the scale on the D20 is typically ordinal or interval from 2-19, with special exceptions for 1 and 20. A dice that is imbalanced with respect to 1 or 20 in Dungeons and Dragons would be of particular concern. The D12 graph above shows a potential example, with quite a few more 20s rolled than 1s. But that’s a conversation and analysis for another time.</p>
</div>
<div id="continuing-exercise" class="section level2">
<h2><span class="header-section-number">1.8</span> Continuing exercise:</h2>
<p>Trying to model the power of the test.</p>
</div>
<div id="another-reddit-exercise" class="section level2">
<h2><span class="header-section-number">1.9</span> Another reddit exercise:</h2>
<p><a href="https://www.reddit.com/r/Rlanguage/comments/a8bc9v/please_help_me_to_create_a_function_of_8_sided/">link</a></p>
<p>Please help me to create a function of 8 sided bias die ( the question is in below) Here is the question:</p>
<p>Roll a 8-sided biased die repeatedly. Define the ‘bias’ by yourself. Starting with roll k =1, let Nk denote the result of roll k. If Nk &gt; k, then you will roll again; otherwise you stop. Let R denote the number of rolls. Write a function: roll8( ) input: n (trials) output: n outcomes and R value</p>
<pre><code>## [1] &quot;Rolls: 1&quot;
## [1] &quot;Results: &quot;
## [1] 1</code></pre>
<pre><code>## [1] &quot;trial 1 rolls 32&quot;
## [1] &quot;trial 2 rolls 1&quot;
## [1] &quot;trial 3 rolls 6&quot;
## [1] &quot;Results: &quot;
## [1] 32  1  6</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/revgizmo/testing_dice_balance/edit/master/index.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
